(function(){'use strict';function g(a){return a*j/180}function k(a,b,e,h){this.y=z(90,A(-90,a));this.x=(b%180?1:-1)*(0>b?-1:1)*((q(b)+180)%360-180);if(h&&h!=D)this.r=h;this.format=e}function B(a,b){this.init(a&&a.y,a&&a.x,b&&b.y,b&&b.x)}var l=Math,w=parseInt,G=parseFloat,t=isNaN,j=l.PI,n=2*j,x=3*j,r=j/4,z=l.min,A=l.max,q=l.abs,E=l.pow,F=l.round,H=l.floor,u=l.sqrt,d=l.sin,c=l.cos,p=l.atan2,y=l.asin,v=l.acos,C=l.log,s=l.tan,D=3440;window.LatLng=k;k.prototype={equals:function(a){return a&&a.y==this.y&&
a.x==this.x&&a.r==this.r},clone:function(){return new k(this.y,this.x,this.format,this.r)},lat:function(){return this.y},lng:function(){return this.x},rad:function(){return this.r||D},flip:function(a,b){if(a)this.y=-this.y;if(b)this.x=-this.x},toString:function(a){a||(a=this.format||"%yd2\u00b0%ym2.1'%yc %xd3\u00b0%xm2.1'%xc");var b=this.x,e=this.y;return a.replace(/%(x|y)(?:(d|m)(\d)?(?:\.(\d))?|([cC]))/g,function(a,f,i,d,c,g){d=w(d);if(t(d)||0>=d)d=0;c=w(c);if(t(c)||0>=c)c=0;a=60*E(10,c);f="x"==
f;a=F((f?b:e)*a)/a;if(g)return("c"==g?0<=a:0>a)?f?"E":"N":f?"W":"S";g=q(a);f=F(60*(g%1)*E(10,c));i="d"==i?g:f;g=(0==d?"":"0000000000")+H(i);d=g.substr(g.length-d);if(0==c)return d;i=(i-g+"").replace(/^\d*\./,"");for(c-=i.length;0<c;)i+="0";return d+"."+i})},distance:function(a){var b=this.rad(),e=g(this.y),h=g(this.x),f=g(a.y),i=g(a.x),a=f-e,h=i-h,e=d(a/2)*d(a/2)+c(e)*c(f)*d(h/2)*d(h/2),e=2*p(u(e),u(1-e));return b*e},bearing:function(a){var b=g(this.y),e=g(a.y),h=g(a.x-this.x),a=d(h)*c(e),b=c(b)*
d(e)-d(b)*c(e)*c(h);return(180*p(a,b)/j+360)%360},finalBearing:function(a){return(a.bearingTo(this)+180)%360},midpoint:function(a){var b=g(this.y),e=g(this.x),h=g(a.y),f=g(a.x-this.x),a=c(h)*c(f),f=c(h)*d(f),h=p(d(b)+d(h),u((c(b)+a)*(c(b)+a)+f*f)),b=e+p(f,c(b)+a),b=(b+x)%n-j;return new k(180*h/j,180*b/j)},destination:function(a,b){var b=b/this.rad(),a=g(a),e=g(this.y),h=g(this.x),f=y(d(e)*c(b)+c(e)*d(b)*c(a)),e=h+p(d(a)*d(b)*c(e),c(b)-d(e)*d(f)),e=(e+x)%n-j;return new k(180*f/j,180*e/j)},intersection:function(a,
b,e){var h=g(this.y),f=g(this.x),i=g(b.y),o=g(b.x),a=g(a),e=g(e),b=i-h,m=o-f,b=2*y(u(d(b/2)*d(b/2)+c(h)*c(i)*d(m/2)*d(m/2)));if(0==b)return null;m=v((d(i)-d(h)*c(b))/(d(b)*c(h)));t(m)&&(m=0);i=v((d(h)-d(i)*c(b))/(d(b)*c(i)));0<d(o-f)?(o=m,m=n-i):(o=n-m,m=i);i=(a-o+j)%n-j;e=(m-e+j)%n-j;if(0==d(i)&&0==d(e)||0>d(i)*d(e))return null;o=v(-c(i)*c(e)+d(i)*d(e)*c(b));b=p(d(b)*d(i)*d(e),c(e)+c(i)*c(o));e=y(d(h)*c(b)+c(h)*d(b)*c(a));h=p(d(a)*d(b)*c(h),c(b)-d(h)*d(e));f=(f+h+x)%n-j;return new k(180*e/j,180*
f/j)},rhumbDistance:function(a){var b=this.rad(),e=g(this.y),h=g(a.y),f=g(a.y-this.y),a=g(q(a.x-this.x)),h=C(s(h/2+r)/s(e/2+r)),e=!t(f/h)?f/h:c(e);a>j&&(a=n-a);return u(f*f+e*e*a*a)*b},rhumbBearing:function(a){var b=g(this.y),e=g(a.y),a=g(a.x-this.x),b=C(s(e/2+r)/s(b/2+r));q(a)>j&&(a=0<a?-(n-a):n+a);return(180*p(a,b)/j+360)%360},rhumbDestination:function(a,b){var e=this.rad(),h=b/e,f=g(this.y),e=g(this.x),a=g(a),i=f+h*c(a),o=i-f,m=C(s(i/2+r)/s(f/2+r)),f=!t(o/m)?o/m:c(f),h=h*d(a)/f;q(i)>j/2&&(i=0<
i?j-i:i-j);return new k(180*i/j,180*((e+h+x)%n-j)/j)},crossTrack:function(a,b){var e=this.rad(),h=a.distance(this),f=g(a.bearing(this)),c=g(a.bearing(b));return y(d(h/e)*d(f-c))*e},alongTrack:function(a,b){var e=this.rad(),h=a.distance(this),f=this.crossTrack(a,b);return v(c(h/e)/c(f/e))*e},maxLat:function(a){return v(q(d(a)*c(g(this.y))))}};k.parse=function(a,b){var e=[],h=b.replace(/%(x|y)(?:(d|m)(\d+)?(?:\.(\d+))?|([cC]))|(\s|\S)/g,function(a,b,d,c,h,f,g){a={a:b};if(f)a.c="c"==f?1:-1,a.p="x"==
b?"E|W":"N|S";else if(d)a.w="d"==d?1:1/60,c=w(c)||0,h=w(h)||0,a.p=(c?"\\d"+(1<c?"{"+c+"}":""):"")+(h?".\\d"+(1<h?"{"+h+"}":""):"");else return g;e.push(a);return"("+a.p+")"});if(h=RegExp("^\\s*"+h,"i").exec(a)){for(var f={x:0,xs:1,y:0,ys:1},d=e.length-1;0<=d;--d){var c=e[d],g=h[d+1];c.c?f[c.a+"c"]=c.c*(/W|S/i.test(g)?-1:1):f[c.a]+=c.w*G(g)}return new k(f.ys*f.y,f.xs*f.x,b)}};window.LatLngBounds=B;B.prototype={init:function(a,b,e,c){if(void 0!=a&&void 0!=b)this.sw=this.ne=new k(a,b);if(void 0!=e&&
void 0!=c&&(this.ne=new k(e,c),!this.sw))this.sw=this.ne;if(this.valid=this.sw&&this.ne)this.c=-180==this.sw.x^180==this.ne.x||this.sw.x>this.ne.x},getNorthEast:function(){return this.ne},getSouthWest:function(){return this.sw},equals:function(a){return this.valid&&a&&a.valid&&a.ne.equals(this.ne)&&a.sw.equals(this.sw)},clone:function(){return new B(this.sw,this.ne)},isEmpty:function(){return!this.valid||this.ne.y<this.sw.y},contains:function(a){a=new k(a.y,a.x);return this.valid&&this.sw.y<=a.y&&
a.y<=this.ne.y&&(this.c?this.sw.x<=a.x&&180>=a.x||-180<=a.x&&a.x<=this.ne.x:this.sw.x<=a.x&&a.x<=this.ne.x)},getCenter:function(){return this.valid&&new k((this.sw.y+this.ne.y)/2,this.c?(360-this.sw.x+this.ne.x)/2+this.sw.x:(this.sw.x+this.ne.x)/2)},toSpan:function(){return new k(this.valid?this.ne.y-this.sw.y:0,this.valid?this.ne.x-this.sw.x+(this.c?360:0):0)},extend:function(a){if(this.valid){var b=new k(a.y,a.x),a=z(b.y,this.sw.y),e=A(b.y,this.ne.y),c=this.getCenter(),d=b.x-c.x,g=-180<=d&&0>=d&&
(-180!=d||this.c),c=z(g?b.x:360,this.sw.x),b=A(g?-360:0>d?b.x+360:180==b.x?-180:b.x,this.ne.x);this.init(a,c,e,b)}else this.init(a.y,a.x);return this},intersects:function(a){if(!this.valid||this.ne.y<a.sw.y||a.ne.y<this.sw.y)return!1;var b=this.c,c=a.c,d=this.sw.x,f=a.sw.x,g=this.ne.x,a=a.ne.x;return b&&c||(b||c||g>=f&&a>=d)&&(!b||g>=f||a>=d)&&(!c||a>=d||g>=f)},toString:function(a){return this.valid?this.sw.toString(a)+", "+this.ne.toString(a):""}}})();
